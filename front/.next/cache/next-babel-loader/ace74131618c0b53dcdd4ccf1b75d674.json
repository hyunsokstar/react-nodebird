{"ast":null,"code":"export var initialState = {\n  mainPosts: [],\n  addPostLoading: false,\n  addPostDone: false,\n  addPostError: null\n}; // export const ADD_POST = 'ADD_POST';\n\nexport var ADD_POST_REQUEST = 'ADD_POST_REQUEST';\nexport var ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\nexport var ADD_POST_FAILURE = 'ADD_POST_FAILURE'; // const dummyPost = (data) => {\n//     console.log(\"data : \", data);\n//     return (\n//         {\n//             id: 4,\n//             content: data.text,\n//             User: {\n//                 id: 1,\n//                 nickname: '제로초',\n//             },\n//             Images: [],\n//             Comments: [],\n//         }\n//     )\n// }\n\nvar dummyPost = function dummyPost(data) {\n  return {\n    id: data.id,\n    content: data.content,\n    User: {\n      id: 1,\n      nickname: '제로초'\n    },\n    Images: [],\n    Comments: []\n  };\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    // case ADD_POST: {\n    //     return {\n    //         ...state,\n    //         mainPosts: [dummyPost(action.data), ...state.mainPosts],\n    //         postAdded: true,\n    //     };\n    // }\n    case ADD_POST_REQUEST:\n      draft.addPostLoading = true;\n      draft.addPostDone = false;\n      draft.addPostError = null;\n      break;\n\n    case ADD_POST_SUCCESS:\n      draft.addPostLoading = false;\n      draft.addPostDone = true;\n      draft.mainPosts.unshift(dummyPost(action.data));\n      break;\n\n    case ADD_POST_FAILURE:\n      draft.addPostLoading = false;\n      draft.addPostError = action.error;\n      break;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/prepare/front/reducers/post.js"],"names":["initialState","mainPosts","addPostLoading","addPostDone","addPostError","ADD_POST_REQUEST","ADD_POST_SUCCESS","ADD_POST_FAILURE","dummyPost","data","id","content","User","nickname","Images","Comments","reducer","state","action","type","draft","unshift","error"],"mappings":"AACA,OAAO,IAAMA,YAAY,GAAG;AACxBC,EAAAA,SAAS,EAAE,EADa;AAExBC,EAAAA,cAAc,EAAE,KAFQ;AAGxBC,EAAAA,WAAW,EAAE,KAHW;AAIxBC,EAAAA,YAAY,EAAE;AAJU,CAArB,C,CAOP;;AACA,OAAO,IAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,IAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,IAAMC,gBAAgB,GAAG,kBAAzB,C,CAIP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD;AAAA,SAAW;AACzBC,IAAAA,EAAE,EAAED,IAAI,CAACC,EADgB;AAEzBC,IAAAA,OAAO,EAAEF,IAAI,CAACE,OAFW;AAGzBC,IAAAA,IAAI,EAAE;AACFF,MAAAA,EAAE,EAAE,CADF;AAEFG,MAAAA,QAAQ,EAAE;AAFR,KAHmB;AAOzBC,IAAAA,MAAM,EAAE,EAPiB;AAQzBC,IAAAA,QAAQ,EAAE;AARe,GAAX;AAAA,CAAlB;;AAWA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBjB,YAAyB;AAAA,MAAXkB,MAAW;;AAC9C,UAAQA,MAAM,CAACC,IAAf;AAEI;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAKd,gBAAL;AACIe,MAAAA,KAAK,CAAClB,cAAN,GAAuB,IAAvB;AACAkB,MAAAA,KAAK,CAACjB,WAAN,GAAoB,KAApB;AACAiB,MAAAA,KAAK,CAAChB,YAAN,GAAqB,IAArB;AACA;;AACJ,SAAKE,gBAAL;AACIc,MAAAA,KAAK,CAAClB,cAAN,GAAuB,KAAvB;AACAkB,MAAAA,KAAK,CAACjB,WAAN,GAAoB,IAApB;AACAiB,MAAAA,KAAK,CAACnB,SAAN,CAAgBoB,OAAhB,CAAwBb,SAAS,CAACU,MAAM,CAACT,IAAR,CAAjC;AACA;;AACJ,SAAKF,gBAAL;AACIa,MAAAA,KAAK,CAAClB,cAAN,GAAuB,KAAvB;AACAkB,MAAAA,KAAK,CAAChB,YAAN,GAAqBc,MAAM,CAACI,KAA5B;AACA;;AAGJ;AACI,aAAOL,KAAP;AA3BR;AA6BH,CA9BD;;AAgCA,eAAeD,OAAf","sourcesContent":["\r\nexport const initialState = {\r\n    mainPosts: [],\r\n    addPostLoading: false,\r\n    addPostDone: false,\r\n    addPostError: null,\r\n};\r\n\r\n// export const ADD_POST = 'ADD_POST';\r\nexport const ADD_POST_REQUEST = 'ADD_POST_REQUEST';\r\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\r\nexport const ADD_POST_FAILURE = 'ADD_POST_FAILURE';\r\n\r\n\r\n\r\n// const dummyPost = (data) => {\r\n//     console.log(\"data : \", data);\r\n//     return (\r\n//         {\r\n//             id: 4,\r\n//             content: data.text,\r\n//             User: {\r\n//                 id: 1,\r\n//                 nickname: '제로초',\r\n//             },\r\n//             Images: [],\r\n//             Comments: [],\r\n//         }\r\n//     )\r\n// }\r\n\r\nconst dummyPost = (data) => ({\r\n    id: data.id,\r\n    content: data.content,\r\n    User: {\r\n        id: 1,\r\n        nickname: '제로초',\r\n    },\r\n    Images: [],\r\n    Comments: [],\r\n});\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        // case ADD_POST: {\r\n        //     return {\r\n        //         ...state,\r\n        //         mainPosts: [dummyPost(action.data), ...state.mainPosts],\r\n        //         postAdded: true,\r\n        //     };\r\n        // }\r\n\r\n        case ADD_POST_REQUEST:\r\n            draft.addPostLoading = true;\r\n            draft.addPostDone = false;\r\n            draft.addPostError = null;\r\n            break;\r\n        case ADD_POST_SUCCESS:\r\n            draft.addPostLoading = false;\r\n            draft.addPostDone = true;\r\n            draft.mainPosts.unshift(dummyPost(action.data));\r\n            break;\r\n        case ADD_POST_FAILURE:\r\n            draft.addPostLoading = false;\r\n            draft.addPostError = action.error;\r\n            break;\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}